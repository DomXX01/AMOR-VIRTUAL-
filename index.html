<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Rompecabezas para mi amor ðŸ’–</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #f7e9f0;
      margin: 0;
      height: 100vh;
    }
    h1 {
      margin: 10px;
      color: #b34fa3;
    }
    #puzzle-container {
      position: relative;
      width: 600px;
      height: 600px;
      border: 3px solid #b34fa3;
      background: white;
      margin-top: 10px;
    }
    .piece {
      position: absolute;
      width: 100px;
      height: 100px;
      background-size: 600px 600px;
      cursor: grab;
      border: 1px solid #ccc;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
      border-radius: 6px;
      transition: box-shadow 0.2s;
    }
    .piece:active {
      cursor: grabbing;
      box-shadow: 4px 4px 10px rgba(0,0,0,0.4);
    }
  </style>
</head>
<body>
  <h1>ðŸ’– Nuestro Rompecabezas ðŸ’–</h1>
  <div id="puzzle-container"></div>

  <script>
    const rows = 6;
    const cols = 6;
    const pieceSize = 100;
    const container = document.getElementById("puzzle-container");
    const imageSrc = "foto.jpg"; // <-- tu foto aquÃ­

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Crear piezas
    const pieces = [];
    for (let row = 0; row < rows; row++) {
      for (let col = 0; col < cols; col++) {
        const piece = document.createElement("div");
        piece.classList.add("piece");
        piece.style.backgroundImage = `url(${imageSrc})`;
        piece.style.backgroundPosition = `-${col * pieceSize}px -${row * pieceSize}px`;
        piece.dataset.row = row;
        piece.dataset.col = col;
        pieces.push(piece);
      }
    }

    // Mezclar posiciones iniciales
    const positions = [];
    for (let row = 0; row < rows; row++) {
      for (let col = 0; col < cols; col++) {
        positions.push({x: col * pieceSize, y: row * pieceSize});
      }
    }
    shuffle(positions);

    pieces.forEach((piece, i) => {
      piece.style.left = positions[i].x + "px";
      piece.style.top = positions[i].y + "px";
      makeDraggable(piece);
      container.appendChild(piece);
    });

    // Hacer piezas arrastrables libremente
    function makeDraggable(el) {
      let offsetX, offsetY, dragging = false;

      el.addEventListener("mousedown", e => {
        dragging = true;
        offsetX = e.clientX - el.offsetLeft;
        offsetY = e.clientY - el.offsetTop;
        el.style.zIndex = 1000; // traer al frente
      });

      document.addEventListener("mousemove", e => {
        if (!dragging) return;
        el.style.left = (e.clientX - offsetX) + "px";
        el.style.top = (e.clientY - offsetY) + "px";
      });

      document.addEventListener("mouseup", () => {
        dragging = false;
        el.style.zIndex = 1;
      });
    }
  </script>
</body>
</html>

